{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,CAAC,MAAM,QAAQ,CAAC;AAE5B,MAAM,UAAU,OAAO,CAAE,IAAc,EAAE,GAAW;IAClD,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,UAAC,IAAY;QAClC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;AACL,CAAC;AAAA,CAAC;AAEF,MAAM,UAAU,GAAG,CAAE,IAAc,EAAE,GAAW;IAC9C,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;QAChB,OAAO,EAAE,CAAA;KACV;IACD,OAAO,IAAI,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,IAAI;QAC3B,GAAG,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;QACtB,OAAO,GAAG,CAAC;IACb,CAAC,CAAC,CAAA;AACJ,CAAC;AAAA,CAAC;AAEF,MAAM,UAAU,OAAO,CAAE,IAAY,EAAE,QAAgB;IACrD,IAAM,eAAe,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/C,OAAO,EAAE;SACT,MAAM,CAAC,QAAQ,CAAC;SAChB,GAAG,CAAC,QAAQ,CAAC;SACb,KAAK,EAAE,CAAC;IACX,IAAM,MAAM,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC;SACzB,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAvB,CAAuB,CAAC;SACpC,GAAG,CAAC,UAAC,IAAY;QAChB,CAAC,CAAC,UAAU,CAAC,eAAe,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC7C,OAAO,CAAC,UAAC,KAAa;;YACrB,IAAI,CAAC,KAAK,CAAC;gBACT,GAAC,QAAQ,IAAG,KAAK;mBAClB,CAAC;QACJ,CAAC,CAAC,CAAC;QACL,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;SACD,KAAK,EAAE,CAAC;IAEX,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;AACrB,CAAC","sourcesContent":["import * as _ from 'lodash';\n\nexport function groupBy (data: Object[], key: string) {\n  return _.groupBy(data, (item: Object) => {\n    return item[key];\n  });\n};\n\nexport function sum (data: Object[], key: string) {\n  if (!data.length) {\n    return {}\n  }\n  return data.reduce((obj, item) => {\n    obj[key] += item[key];\n    return obj;\n  })\n};\n\nexport function compare (data: Object, groupKey: string) {\n  const groupsToCompare = _.chain(Object.keys(data))\n    .flatten()\n    .uniqBy(groupKey)\n    .map(groupKey)\n    .value();\n  const result = _.chain(data)\n    .map(item => _.keyBy(item, groupKey))\n    .map((item: Object) => {\n      _.difference(groupsToCompare, Object.keys(item))\n        .forEach((group: string) => {\n          item[group] = {\n            [groupKey]: group\n          };\n        });\n      return item;\n    })\n    .value();\n\n  console.log(result)\n}\n"]}